(function(){var root=this;var $=root.jQuery||root.Zepto||function(element){return element;};var defaults={tag:'div'};function execute(selector){if(!selector){return $(document.createElement(defaults.tag));}var reChildren=/\s*>\s*/,reSiblings=/\s*\+\s*/,children=selector.split(reChildren),siblings,result,parent,element,i=0,j,childrenCount=children.length,siblingsCount;for(;i<childrenCount;++i){siblings=children[i].split(reSiblings);for(j=0,siblingsCount=siblings.length;j<siblingsCount;++j){element=parse(siblings[j]);if(parent){parent.appendChild(element);}if(!i&&!j){result=element;}}parent=element;}return $(result);}function parse(selector){var element,id,classes=[],text,attributes=[],reId=/#([\w-]+)/g,reClass=/\.([\w-]+)/g,reText=/\{(.+)\}/g,reAttributeNameAndValue=/\[\s*(\w+)\s*=\s*([^\].]*)\s*\]/,reAttributeName=/\[\s*(\w+)\s*\]/;selector=selector.replace(/^\s+|\s+$/,'');if(reId.test(selector)){id=RegExp.$1;}while(reClass.test(selector)){classes.push(RegExp.$1);}if(reText.test(selector)){text=RegExp.$1;}while(reAttributeNameAndValue.test(selector)){attributes.push({key:[RegExp.$1],value:RegExp.$2.replace(/"|'/,'')});selector=selector.replace(reAttributeNameAndValue,'');}while(reAttributeName.test(selector)){attributes.push({key:[RegExp.$1],value:[RegExp.$1]});selector=selector.replace(reAttributeName,'');}selector=selector.replace(reId,'').replace(reClass,'').replace(reText,'');element=document.createElement(selector||defaults.tag);if(text){element.appendChild(document.createTextNode(text));}if(id){element.id=id;}if(classes.length){element.className=classes.join(' ');}for(var i=0;i<attributes.length;i++){element.setAttribute(attributes[i].key,attributes[i].value);}return element;}root.$z=execute;})();